# ТЗ: Реализация режима «Блиц»

## 0. Назначение задачи

Реализовать **новый режим тренажёра — «Блиц»**, предназначенный для быстрого самотестирования знаний с субъективной оценкой пользователем («знал / не знал») и подсчётом статистики текущей сессии.

Режим должен быть **визуально, архитектурно и стилистически согласован** с уже реализованными режимами:

* **Каталог**
* **Карточки**

---

## 1. Общие требования

### 1.1 Общая структура страницы

На странице **сохраняются без изменений**:

* Шапка (header):

  * заголовок
  * описание тренажёра
  * переключатель режима стекла (в правом верхнем углу)
  * 4 кнопки режимов
    → активна кнопка **«Блиц»**
* Подвал (footer):

  * ссылки на GitHub и LinkedIn
  * стили и прозрачность — как в других режимах

Меняется:

* строка описания режима (одна строка, кратко про блиц)
* основной контент страницы

---

## 2. Описание режима «Блиц» (как он работает)

**Блиц** — это режим быстрого повторения:

* по одному вопросу за раз
* с ручной самооценкой («Знал» / «Не знал»)
* с отображением статистики текущей сессии

Пользователь может:

* смотреть ответ
* оценивать, знал он или нет
* листать вопросы без оценки (это допускается)

---

## 3. Блок фильтра

### 3.1 Наличие фильтра

**В режиме «Блиц» есть блок фильтра по темам**

* Название блока: **«Тема»**
* Функциональность:
  **точно такая же**, как в блок фильтра в режиме **«Карточки»**
* Поведение:

  * выпадающий список тем
  * те же значения
  * та же логика фильтрации
* Внешний вид:

  * те же цвета
  * те же шрифты
  * та же прозрачность
  * та же интеграция с режимом стекла

❗ Код фильтра **копируется и переиспользуется** из режима «Карточки».

---

## 4. Основной блок «Блиц»

### 4.1 Общие требования к блоку

* Один центральный блок
* Ширина:

  * равна общей ширине тренажёра
  * управляется CSS-переменными (как в `style.css`)
* Стиль:

  * полностью соответствует режиму «Карточки»
  * поддерживает режим стекла / не стекла
* Использовать **только существующие CSS-переменные** проекта

---

## 5. Структура блока «Блиц»

Порядок элементов **строго фиксирован**:

1. Строка `ВОПРОС`
2. Текст вопроса
3. Отступ
4. Строка `ОТВЕТ`
5. Ответ:

   * **изначально скрыт**
   * без блюра
   * с фиксированным минимальным пространством
6. Отступ
7. Кнопки управления (см. п.6)
8. Строка статистики (внизу блока)

---

## 6. Кнопки управления

### 6.1 Порядок кнопок (слева направо)

1. **Показать ответ / Скрыть ответ**
2. **Знал**
3. **Не знал**
4. **Следующий вопрос**

---

### 6.2 Кнопка «Показать ответ / Скрыть ответ»

* Поведение:

  * **ТОЧНО такое же**, как в режиме «Карточки»
* При показе ответа:

  * блок увеличивает высоту на размер ответа
* При скрытии:

  * возвращается к минимальной высоте
* Стили:

  * прозрачная
  * с контуром
  * hover / active — через общие стили кнопок проекта

---

### 6.3 Кнопки «Знал» / «Не знал»

* Изначально:

  * активны
  * реагируют на hover
* При нажатии:

  * меняют цвет (как активные кнопки режимов)
  * становятся **неактивными**
  * повторные клики **не учитываются**
* Логика:

  * `Знал`:

    * увеличивает счётчик сессии
    * увеличивает число верных
    * увеличивает текущую серию
    * обновляет максимальную серию
  * `Не знал`:

    * увеличивает счётчик сессии
    * сбрасывает текущую серию
* После перехода к следующему вопросу:

  * кнопки возвращаются в неактивное визуальное состояние

---

### 6.4 Кнопка «Следующий вопрос»

* Поведение:

  * **ТОЧНО такое же**, как в режиме «Карточки»
* Не влияет на статистику
* Разрешено:

  * листать вопросы без нажатия «Знал / Не знал»
* При нажатии:

  * загружается новый вопрос
  * ответ снова скрыт
  * кнопки «Знал / Не знал» сбрасываются

---

## 7. Статистика сессии

### 7.1 Расположение

* Внутри основного блока
* Внизу
* В одну строку
* Растянута на всю ширину блока

---

### 7.2 Формат отображения

```
Сессия: <N>   Точность: <X>%   Серия: <Y>
```

Где:

* `Сессия` — количество оценённых вопросов
* `Точность` — доля «Знал» от общего числа «Знал»/«НЕ Знал»
* `Серия` — максимальная серия подряд «Знал»

---

### 7.3 Хранение данных

* Данные хранятся:

  * **в памяти (JS)**
  * в рамках текущей сессии
* Перезагрузка страницы:

  * сбрасывает статистику
* `localStorage` — не использовать на данном этапе

---

## 8. Чего НЕ должно быть в режиме «Блиц»

* ❌ указаний темы, номера, уровня сложности у карточки
* ❌ тегов
* ❌ автоматической проверки правильности
* ❌ блюра ответа
* ❌ дополнительных фильтров кроме «Тема»

---

## 9. Интеграция режима стекла

* Переключатель стекла:

  * работает **ТОЧНО так же**, как в режимах «Каталог» и «Карточки»
* Все элементы блица:

  * используют те же CSS-переменные
  * корректно переключаются между:

    * стекло / не стекло
* Никаких новых режимов стекла не добавлять

---

## 10. Файлы, которые нужно создать / изменить

### 10.1 JavaScript

Создать файл:

```
blitz.js
```

В файле:

* логика выбора вопросов
* обработка фильтра по темам
* состояние текущего вопроса
* состояние кнопок
* подсчёт статистики
* обновление DOM

---

### 10.2 HTML

В `index.html`:

* добавить контейнер режима «Блиц»
* структура аналогична режиму «Карточки»
* показывается / скрывается через переключатель режимов

---

### 10.3 CSS

В `style.css`:

* **не добавлять новые цвета**
* использовать существующие переменные:

  * ширина контейнера
  * фон карточек
  * рамки
  * активные состояния кнопок
* допускается:

  * добавить минимальные layout-классы (без дублирования стилей)

---
