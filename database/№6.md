
Как использовать CTE (WITH) и зачем они нужны?

---

CTE (WITH) нужны, чтобы разбивать сложный запрос на понятные части и переиспользовать промежуточные результаты.

```sql
with big_orders as (
    select *
    from orders
    where amount > 500
)
select avg(amount) as avg_big_order
from big_orders
```

---

#lvl_2 