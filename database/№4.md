
Объясните разницу между WHERE и HAVING.

---

WHERE объявляется и фильтрует строки ДО агрегации (GROUP BY); HAVING фильтрует уже после агрегации - поэтому HAVING может использовать агрегаты.

```sql
select customer_id, sum(amount)  
from payments
where amount > 1 
group by customer_id 
having sum(amount) > 1000
```

---

#lvl_2 