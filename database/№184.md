

Как реализовать детерминированное сплитование пользователей для эксперимента?

---

Детерминированное сплитование — это распределение пользователей по группам так, что один и тот же пользователь всегда попадает в одну и ту же группу. Для этого используют хеширование `user_id` с добавлением соли (идентификатора эксперимента):

```python
def bucket(user_id, salt, buckets=100):     
	return hash(f"{user_id}{salt}") % buckets
```

Хэш преобразует `user_id` в число, а остаток от деления (`% buckets`) определяет номер бакета. Такое решение обеспечивает стабильное и воспроизводимое распределение без хранения данных в БД.

---

#lvl_3 